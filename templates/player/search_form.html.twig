{% extends 'base.html.twig' %}

{% block title %}Recherche de joueurs{% endblock %}

{% block body %}

    <div class="container mt-4">
        <h1 class="display-4 mb-4" style="color: #007bff; font-weight: bold; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);">Recherche de joueurs</h1>

        {{ form_start(searchForm) }}
            <div class="row">
                <div class="col-md-6 mb-3">
                    {{ form_row(searchForm.search, {'attr': {'class': 'form-control', 'placeholder': 'Rechercher un joueur', 'list': 'player-list'}}) }}

                    <datalist id="player-list">
                        {% for player in playerList %}
                            <option value="{{ player.nickname }}">{{ player.discordTag }}</option>
                        {% endfor %}
                    </datalist>
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_row(searchForm.available, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>
        {{ form_end(searchForm) }}

        {% if players %}
            <h2 class="mt-5 mb-3">RÃ©sultats de la recherche</h2>
            <div class="list-group">
                {% for player in players %}
                    <a href="{{ path('app_player_show', {'id': player.id}) }}" class="list-group-item list-group-item-action">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>{{ player.nickname }}</h5>
                                <p class="mb-0">{{ player.discordTag }}</p>
                            </div>
                            <div class="col-md-4">
                                {% if player.available %}
                                    <span class="badge badge-success">Disponible</span>
                                {% else %}
                                    <span class="badge badge-danger">Indisponible</span>
                                {% endif %}
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}
